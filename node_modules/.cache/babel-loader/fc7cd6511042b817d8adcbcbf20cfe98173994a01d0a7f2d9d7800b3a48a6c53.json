{"ast":null,"code":"var _jsxFileName = \"C:\\\\my-site\\\\src\\\\components\\\\CRUD\\\\UpdateForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { Form, Button } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000';\nconst UpdateForm = _ref => {\n  _s();\n  let {\n    recordId,\n    onCancel\n  } = _ref;\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    duration: '',\n    activity: '',\n    date: '',\n    // ✅ строка, не массив\n    price: '' // ✅ строка (можно потом превратить в число на backend)\n  });\n\n  const fetchRecordData = useCallback(async () => {\n    try {\n      var _recordData$title, _recordData$descripti, _recordData$duration, _recordData$activity, _recordData$date, _recordData$price;\n      const response = await axios.get(`${API_URL}/api/equipment/${recordId}`);\n      const recordData = response.data;\n      setFormData({\n        title: (_recordData$title = recordData.title) !== null && _recordData$title !== void 0 ? _recordData$title : '',\n        description: (_recordData$descripti = recordData.description) !== null && _recordData$descripti !== void 0 ? _recordData$descripti : '',\n        duration: (_recordData$duration = recordData.duration) !== null && _recordData$duration !== void 0 ? _recordData$duration : '',\n        activity: (_recordData$activity = recordData.activity) !== null && _recordData$activity !== void 0 ? _recordData$activity : '',\n        date: (_recordData$date = recordData.date) !== null && _recordData$date !== void 0 ? _recordData$date : '',\n        // ✅ всегда строка\n        price: (_recordData$price = recordData.price) !== null && _recordData$price !== void 0 ? _recordData$price : '' // ✅ всегда строка/число, но не undefined\n      });\n    } catch (error) {\n      console.log('Ошибка загрузки данных записи', error);\n    }\n  }, [recordId]);\n  useEffect(() => {\n    if (recordId) fetchRecordData();\n  }, [fetchRecordData, recordId]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      await axios.put(`${API_URL}/api/equipment/${recordId}`, formData);\n      alert('Запись успешно обновлена');\n      onCancel();\n    } catch (error) {\n      console.log('Ошибка обновления записи', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"update-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      className: \"update-form\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"title\",\n          value: formData.title,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"description\",\n          value: formData.description,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0414\\u0430\\u0442\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"date\",\n          value: formData.date,\n          onChange: handleInputChange,\n          placeholder: \"YYYY-MM-DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0426\\u0435\\u043D\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"number\",\n          name: \"price\",\n          value: formData.price,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: onCancel,\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdateForm, \"yOHxSnh89eRi+yoDNeD+wHifwpM=\");\n_c = UpdateForm;\nexport default UpdateForm;\nvar _c;\n$RefreshReg$(_c, \"UpdateForm\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Form","Button","jsxDEV","_jsxDEV","API_URL","UpdateForm","_ref","_s","recordId","onCancel","formData","setFormData","title","description","duration","activity","date","price","fetchRecordData","_recordData$title","_recordData$descripti","_recordData$duration","_recordData$activity","_recordData$date","_recordData$price","response","get","recordData","data","error","console","log","handleInputChange","event","name","value","target","prev","handleSubmit","preventDefault","put","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","Label","Control","type","onChange","placeholder","variant","onClick","_c","$RefreshReg$"],"sources":["C:/my-site/src/components/CRUD/UpdateForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst API_URL = 'http://localhost:5000';\r\n\r\nconst UpdateForm = ({ recordId, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    duration: '',\r\n    activity: '',\r\n    date: '',     // ✅ строка, не массив\r\n    price: '',    // ✅ строка (можно потом превратить в число на backend)\r\n  });\r\n\r\n  const fetchRecordData = useCallback(async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/equipment/${recordId}`);\r\n      const recordData = response.data;\r\n\r\n      setFormData({\r\n        title: recordData.title ?? '',\r\n        description: recordData.description ?? '',\r\n        duration: recordData.duration ?? '',\r\n        activity: recordData.activity ?? '',\r\n        date: recordData.date ?? '',     // ✅ всегда строка\r\n        price: recordData.price ?? '',   // ✅ всегда строка/число, но не undefined\r\n      });\r\n    } catch (error) {\r\n      console.log('Ошибка загрузки данных записи', error);\r\n    }\r\n  }, [recordId]);\r\n\r\n  useEffect(() => {\r\n    if (recordId) fetchRecordData();\r\n  }, [fetchRecordData, recordId]);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await axios.put(`${API_URL}/api/equipment/${recordId}`, formData);\r\n      alert('Запись успешно обновлена');\r\n      onCancel();\r\n    } catch (error) {\r\n      console.log('Ошибка обновления записи', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"update-form-container\">\r\n      <h2>Изменить запись</h2>\r\n\r\n      <Form onSubmit={handleSubmit} className=\"update-form\">\r\n        <Form.Group>\r\n          <Form.Label>Название:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={formData.title}\r\n            onChange={handleInputChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>Описание:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"description\"\r\n            value={formData.description}\r\n            onChange={handleInputChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>Дата:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"date\"\r\n            value={formData.date}\r\n            onChange={handleInputChange}\r\n            placeholder=\"YYYY-MM-DD\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>Цена:</Form.Label>\r\n          <Form.Control\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={formData.price}\r\n            onChange={handleInputChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button type=\"submit\" className=\"btn btn-primary\">Сохранить</Button>{' '}\r\n        <Button variant=\"secondary\" onClick={onCancel}>Отмена</Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}