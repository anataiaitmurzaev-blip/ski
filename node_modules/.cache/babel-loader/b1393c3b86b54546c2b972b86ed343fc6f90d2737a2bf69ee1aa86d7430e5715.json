{"ast":null,"code":"import _regeneratorRuntime from\"C:/my-site/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/my-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/my-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL='http://localhost:5000';var DeleteForm=function DeleteForm(_ref){var recordId=_ref.recordId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return axios.delete(\"\".concat(API_URL,\"/api/my_tour/\").concat(recordId));case 4:alert('Запись успешно удалена');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.log('Ошибка удаления записи',_context.t0);case 10:setIsLoading(false);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,7]]);}));return function handleDelete(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u044D\\u0442\\u0443 \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:isLoading,children:isLoading?'Удаление...':'Удалить'})]});};export default DeleteForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","API_URL","DeleteForm","_ref","recordId","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","handleDelete","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","delete","concat","alert","t0","console","log","stop","apply","arguments","children","onClick","disabled"],"sources":["C:/my-site/src/components/CRUD/DeleteForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000';\r\n\r\nconst DeleteForm = ({ recordId }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await axios.delete(`${API_URL}/api/my_tour/${recordId}`);\r\n      alert('Запись успешно удалена');\r\n    } catch (error) {\r\n      console.log('Ошибка удаления записи', error);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Удалить запись</h2>\r\n      <p>Вы действительно хотите удалить эту запись?</p>\r\n      <button onClick={handleDelete} disabled={isLoading}>\r\n        {isLoading ? 'Удаление...' : 'Удалить'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteForm;\r\n"],"mappings":"gTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,GAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC5B,IAAAC,SAAA,CAAkCV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBX,YAAY,CAAC,IAAI,CAAC,CAACS,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGX,CAAAxB,KAAK,CAACyB,MAAM,IAAAC,MAAA,CAAIrB,OAAO,kBAAAqB,MAAA,CAAgBlB,QAAQ,CAAE,CAAC,QACxDmB,KAAK,CAAC,wBAAwB,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEhCO,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAAR,QAAA,CAAAM,EAAO,CAAC,CAAC,QAG/Cf,YAAY,CAAC,KAAK,CAAC,CAAC,yBAAAS,QAAA,CAAAS,IAAA,MAAAZ,OAAA,gBACrB,kBAXK,CAAAL,YAAYA,CAAA,SAAAC,KAAA,CAAAiB,KAAA,MAAAC,SAAA,OAWjB,CAED,mBACE7B,KAAA,QAAA8B,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAI,iFAAc,CAAI,CAAC,cACvBhC,IAAA,MAAAgC,QAAA,CAAG,sOAA2C,CAAG,CAAC,cAClDhC,IAAA,WAAQiC,OAAO,CAAErB,YAAa,CAACsB,QAAQ,CAAExB,SAAU,CAAAsB,QAAA,CAChDtB,SAAS,CAAG,aAAa,CAAG,SAAS,CAChC,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}